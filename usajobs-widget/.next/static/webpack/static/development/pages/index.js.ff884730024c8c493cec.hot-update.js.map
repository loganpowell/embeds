{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.ff884730024c8c493cec.hot-update.js","sources":["webpack:///./components/withPageRouter.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./pages/index.js"],"sourcesContent":["import { withRouter } from 'next/router';\r\n\r\n/**\r\n * Our router to override the missing query when deploying to static export\r\n * This is required for page components that need access to the router\r\n */\r\n\r\nexport const withPageRouter = (Component) => {\r\n    return withRouter(({ router, ...props }) => {\r\n        // split at first `?`\r\n        const searchParams = new URLSearchParams(router.asPath.split(/\\?/)[1]);\r\n\r\n        const query = {};\r\n        for (const [key, value] of searchParams) {\r\n            query[key] = value;\r\n        }\r\n\r\n        // replace the empty query\r\n        router.query = query;\r\n\r\n        return (<Component {...props} router={router} />);\r\n    });\r\n};","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","import _Object$assign from \"../../core-js/object/assign\";\nexport default function _extends() {\n  _extends = _Object$assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","import { useState, useEffect } from 'react'\r\nimport { withPageRouter } from '../components/withPageRouter'\r\nimport { DatePicker, Table, Divider, Tag } from \"antd\"\r\n// import { KEY } from 'babel-dotenv'\r\n\r\n// dotenv.config()\r\n\r\n// const Index = () => (\r\n//   <div>\r\n//     <p>Hello Next.js</p>\r\n//     <DatePicker />\r\n//   </div>\r\n// )\r\n\r\nconst { Column, ColumnGroup } = Table;\r\n\r\n\r\nconst fetcher = async (url, key) => {\r\n  const result = await fetch(url, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization-Key': key,\r\n      'User-Agent': \"loganpowell@gmail.com\",\r\n      'Host': 'data.usajobs.gov'\r\n    }\r\n  })\r\n  \r\n  const prime = await result.json()\r\n  console.log(\"api call: \" + url);\r\n  // console.log(\"SearchResult:\")\r\n  const { SearchResult: { SearchResultItems } } = prime\r\n  // console.log(SearchResultItems)\r\n  return SearchResultItems.map(({ MatchedObjectDescriptor }, idx) => {\r\n    const {\r\n      ApplicationCloseDate,\r\n      ApplyURI: [ applyLink ],\r\n      DepartmentName,\r\n      JobCategory: [ { Name: catagory } ],\r\n      OrganizationName,\r\n      PositionEndDate: applyBy,\r\n      PositionLocation: [ { CityName, CountryCode, CountrySubDivisionCode, Latitude, LocationName, Longitude } ],\r\n      PositionOfferingType: [ { Name : appointmentType } ],\r\n      PositionRemuneration: [ { MinimumRange: minPay, MaximumRange: maxPay, RateIntervalCode: per} ],\r\n      PositionTitle,\r\n      PositionURI\r\n    } = MatchedObjectDescriptor\r\n    return {\r\n      key: idx,\r\n      firstName: PositionTitle,\r\n      lastName: catagory,\r\n      age: applyBy,\r\n      address: LocationName,\r\n      tags: [applyLink, DepartmentName]\r\n    }\r\n  }) // summaries is an object\r\n}\r\n\r\n// console.log(data)\r\n\r\n// const data = [\r\n//   {\r\n//     key: '1',\r\n//     firstName: 'John',\r\n//     lastName: 'Brown',\r\n//     age: 32,\r\n//     address: 'New York No. 1 Lake Park',\r\n//     tags: ['nice', 'developer'],\r\n//   },\r\n//   {\r\n//     key: '2',\r\n//     firstName: 'Jim',\r\n//     lastName: 'Green',\r\n//     age: 42,\r\n//     address: 'London No. 1 Lake Park',\r\n//     tags: ['loser'],\r\n//   },\r\n//   {\r\n//     key: '3',\r\n//     firstName: 'Joe',\r\n//     lastName: 'Black',\r\n//     age: 32,\r\n//     address: 'Sidney No. 1 Lake Park',\r\n//     tags: ['cool', 'teacher'],\r\n//   },\r\n// ];\r\n\r\nconst Index = ({ query: { key } }) => {\r\n  const [ data, setData ] = useState([])\r\n  \r\n  // WARNING IN CONSOLE:\r\n  // useEffect(async () => {\r\n  //   const res = await fetcher(\"https://data.usajobs.gov/api/Search?Organization=CM63&Page=1&LocationName=22202\")\r\n  //   setData(res)\r\n  // }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async ( key ) => {\r\n      const res = await fetcher(\"https://data.usajobs.gov/api/Search?Organization=CM63&Page=1&LocationName=22202\", key)\r\n      setData(res)\r\n    }\r\n    fetchData(key)\r\n  }, [])\r\n  return (\r\n    <Table dataSource={data}>\r\n      {/* <ColumnGroup title=\"Name\"> */}\r\n        <Column title=\"First Name\" dataIndex=\"firstName\" key=\"firstName\" />\r\n        <Column title=\"Last Name\" dataIndex=\"lastName\" key=\"lastName\" />\r\n      {/* </ColumnGroup> */}\r\n      <Column title=\"Age\" dataIndex=\"age\" key=\"age\" />\r\n      <Column title=\"Address\" dataIndex=\"address\" key=\"address\" />\r\n      <Column\r\n        title=\"Tags\"\r\n        dataIndex=\"tags\"\r\n        key=\"tags\"\r\n        render={tags => (\r\n          <span>\r\n            {tags.map(tag => (\r\n              <Tag color=\"red\" key={tag}>\r\n                {tag}\r\n              </Tag>\r\n            ))}\r\n          </span>\r\n        )}\r\n      />\r\n      <Column\r\n        title=\"Action\"\r\n        key=\"action\"\r\n        render={(text, record) => (\r\n          <span>\r\n            <a href=\"javascript:;\">Invite {record.lastName}</a>\r\n            <Divider type=\"vertical\" />\r\n            <a href=\"javascript:;\">Delete</a>\r\n          </span>\r\n        )}\r\n      />\r\n    </Table>\r\n  )\r\n}\r\n\r\n// const Index = fetcher(\"https://data.usajobs.gov/api/Search?Organization=CM63&Page=1&LocationName=22202\").then(r => tabular(r))\r\n\r\nexport default withRouter(Index)"],"mappings":"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","sourceRoot":""}